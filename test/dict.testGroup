#!/usr/bin/env rexx

parse source . . s

group = .TestGroup~new(s)
group~add(.dict.testGroup)

if group~isAutomatedTest then return group

testResult = group~suite~execute~~print

return testResult

::requires 'ooTest.frm'
::requires 'orxpython.cls'

/*
    See:
    https://docs.python.org/3/library/stdtypes.html#mapping-types-dict
    https://docs.python.org/3/tutorial/datastructures.html#dictionaries
*/
::class dict.testGroup public subclass ooTestCase
    ::method test_newEmptyDict
        dict = .Python~dict
        actual = .Python~len(dict)
        self~assertSame(0, unbox(actual))

    ::method test_set
        dict = .Python~dict
        dict['one'] = .Python~int(1)
        dict['two'] = .Python~int(2)
        dict['three'] = .Python~int(3)

        actual = .Python~len(dict)

        self~assertSame(3, unbox(actual))

    ::method test_get
        dict = .Python~dict
        dict['one'] = .Python~int(1)
        dict['two'] = .Python~int(2)
        dict['three'] = .Python~int(3)

        actual = dict['two']

        self~assertSame(2, unbox(actual))

    ::method test_del
        dict = .Python~dict
        dict['one'] = .Python~int(1)
        dict['two'] = .Python~int(2)
        dict['three'] = .Python~int(3)

        .Python~operator.delitem(dict, 'two')

        self~assertFalse(unbox(.Python~operator.contains(dict, 'two')))

    ::method test_contains
        dict = .Python~dict
        dict['one'] = .Python~int(1)
        dict['two'] = .Python~int(2)
        dict['three'] = .Python~int(3)

        self~assertTrue(unbox(.Python~operator.contains(dict, 'two')))
