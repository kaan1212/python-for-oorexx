#!/usr/bin/env rexx

parse source . . s

group = .TestGroup~new(s)
group~add(.float.testGroup)

if group~isAutomatedTest then return group

testResult = group~suite~execute~~print

return testResult

::requires 'ooTest.frm'
::requires 'orxpython.cls'

/*
    Examples: https://docs.python.org/3/library/functions.html#float
*/
::class float.testGroup public subclass ooTestCase
    ::method test_noArgument
        actual = .Python~float
        self~assertSame(0.0, unbox(actual))

    ::method test_simple
        actual = .Python~float('+1.23')
        self~assertSame(1.23, unbox(actual))

    ::method test_whitespaces
        string = .Python~escape('   -12345\n')
        actual = .Python~float(string)
        self~assertSame(-12345.0, unbox(actual))

    ::method test_exponent_lowercase
        actual = .Python~float('1e-003')
        self~assertSame(0.001, unbox(actual))

    ::method test_exponent_uppercase
        actual = .Python~float('+1E6')
        self~assertSame(1000000.0, unbox(actual))

    ::method test_infinity
        actual = .Python~float('-Infinity')
        self~assertSame('-inf', unbox(actual))
